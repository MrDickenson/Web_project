# 3. Стиль API, модель помилок та OpenAPI

**Дата:** 03.12.2025
**Статус:** Прийнято

### 1. Стиль API (REST)
Ми використовуємо архітектурний стиль **REST**
* **Ресурси:** URL будуються навколо іменників у множині (наприклад, `/items`, `/items/{id}`).
* **Дії:** Визначаються HTTP-методами:
    * `GET` — отримання даних.
    * `POST` — створення нових ресурсів.
    * `PUT` / `PATCH` — оновлення ресурсів.
    * `DELETE` — видалення ресурсів.
* **Формат даних:** JSON (Content-Type: `application/json`) для запитів та відповідей.

### 2. Політика HTTP кодів
Ми використовуємо стандартні HTTP статус-коди для індикації результату операції:

**Успіх:**
* `200 OK` — Запит виконано успішно (для GET, PUT, PATCH).
* `201 Created` — Ресурс успішно створено (для POST). Повертає створений об'єкт.
* `204 No Content` — Запит виконано успішно, тіло відповіді відсутнє (для DELETE).

**Клієнтські помилки:**
* `400 Bad Request` — Помилка валідації вхідних даних (наприклад, відсутнє обов'язкове поле).
* `401 Unauthorized` — Користувач не автентифікований.
* `403 Forbidden` — Користувач автентифікований, але не має прав на цю дію.
* `404 Not Found` — Ресурс не знайдено.

**Серверні помилки:**
* `500 Internal Server Error` — Непередбачена помилка сервера.

### 3. Формат помилок (Error Model)
У разі виникнення помилки (4xx або 5xx), сервер **завжди** повертає тіло відповіді у фіксованому JSON-форматі.

```json
{
  "status": 400,
  "error": "Bad Request",
  "message": "Опис помилки для розробника або користувача",
  "timestamp": "2025-12-03T12:00:00Z",
  "details": [
    {
      "field": "title",
      "issue": "Title is required"
    }
  ]
}
```
### 4.Вимога відповідності OpenAPI
**Стандарт**: API має бути описаний згідно зі специфікацією OpenAPI 3.0+.

**Актуальність**: Документація повинна генеруватися автоматично з коду (code-first) або код має писатися на основі специфікації (schema-first), щоб гарантувати повну відповідність реалізації та документації.

**Доступність**: Swagger UI (або аналог) має бути доступним для перегляду та тестування ендпоінтів (наприклад, за шляхом /api/docs).